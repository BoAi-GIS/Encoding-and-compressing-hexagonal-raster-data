This is the source code and example data of article "Encoding and compressing hexagonal raster data by the Gosper curve" (Address of the article: supplementary after publication).



###Data

The data are stored in the form of a file geographic database, which is composed of three GDB files. These data can be manipulated by GIS software such as ArcMap.

HexagonGosperEncodingCompression.gdb: These data are used for the compression experiments (including lossless compression and lossy compression) of Gosper encoding hexagonal grids. The data contain the following key fields: "id" is used to indicate the element region to which the unit belongs, "GosperId" represents the Gosper coding of the unit, and "type" indicates the semantic change type. These data are organized according to different resolutions. Take one resolution's data "HexR3Before" as an example. "HexR3Before" is the lowest resolution data. "Hex" is a hexagonal grid marker, the number in "R3" is the resolution marker, and "Before" indicates that it is the original data before fusion. "HexR3AfterT1" is the fused data with a threshold of 1, and T1 is an indication of the threshold. "HexR3AfterT1Protect" is also the fused data with a threshold of 1. Unlike "HexR3AfterT1", regional break detection and restoration are performed in the fusion process, so it is marked by"Protect".

HexagonRowEncodingCompression.gdb: These data are used for the compression experiments (including lossless compression and lossy compression) of row encoding hexagonal grids. The data contain the following key fields: "id" is used to indicate the element region to which the unit belongs, "RowId" represents the row coding of the unit, and "type" indicates the semantic change type. These data are also organized according to the different resolutions, and the naming rules are consistent with those in "HexagonGosperEncodingCompression.gdb".

QuadrilateralRowEncodingCompression.gdb: These data are used for the lossy compression of row encoding quadrilateral grids. The key fields and naming rules are basically the same as those for "HexagonRowEncodingCompression.gdb". The difference in naming is that "Quad" is used as a quadrilateral grid marker.



###Code

The code is written in VS2010 software. It is accomplished by secondary development using Arcengine 10.1. It can be debugged and used after modifying the customized information such as the file path and file name on a machine with the ArcGIS development environment. In each CS file, the "OnClick" function is used as the code entry, and the other functions (except for those automatically generated by the system) are auxiliary functions which are called in "OnClick" function. In addition, the code file is accompanied by detailed annotations.

The main tasks of each CS file are as follows:
"GenerateGosperCurve.cs" is used to construct the Gosper curve and output the result in the form of "FeatureClasses".

"LosslessCompression.cs" is used for the lossless compression experiments of the Gosper encoding data and row encoding data, using the data "HexRnBefore" in "HexagonGosperEncodingCompression.gdb" and "HexagonRowEncodingCompression.gdb".

"LossyCompression.cs" is used for lossy compression, which is realized by the coding fusion of the Gosper encoding data and row encoding data. When using hexagonal grids, the results are "HexRnAfterTn" or "HexRnAfterTnProtect" (depending on whether or not regional break detection is performed in the fusion process) in "HexagonGosperEncodingCompression.gdb" and "HexagonRowEncodingCompression.gdb". When the quadrilateral grids are used, the result is "QuadRnAfterTnProtect" in "QuadrilateralRowEncodingCompression.gdb".

"AccuracyLossStatisticsLossyCompression.cs" is used to calculate the accuracy loss of the experimental results of lossy compression, which is done by comparing "HexRnBefore"(or "QuadRnBefore") and "HexRnAfterTnProtect"(or "QuadRnAfterTnProtect") in the three GDB files.